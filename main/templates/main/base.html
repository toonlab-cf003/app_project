{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}„Éá„Éº„Çø„ÅÆ„Åã„Å§„Çà„ÅÜ{% endblock %}</title>
  
  <link rel="stylesheet" href="{% static 'css/timeline.css' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
  {% if user.is_authenticated %}
    <p>
      <form method="POST" action="{% url 'logout' %}" style="display:inline;float: right;">
        {% csrf_token %}
        <button type="submit" style="background:none; border:none; color:blue; cursor:pointer; text-decoration:underline;">
          „É≠„Ç∞„Ç¢„Ç¶„Éà
        </button>
      </form>
    </p>
  {% else %}
    <p><a href="{% url 'login' %}">„É≠„Ç∞„Ç§„É≥</a> / <a href="{% url 'register' %}">Êñ∞Ë¶èÁôªÈå≤</a></p>
  {% endif %}

  <div class="main-content">
    {% block content %}
    {% endblock %}
  </div>

  <!-- üîΩ „Çø„Ç§„É†„É©„Ç§„É≥ÔºàÊúÄÂàù„ÅØÈùûË°®Á§∫Ôºâ -->
  <div id="timeline-box" style="display: none;">
    {% include 'main/timeline_snippet.html' %}
  </div>

  <!-- ‚¨Ü „Çø„Ç§„É†„É©„Ç§„É≥Ë°®Á§∫Âàá„ÇäÊõø„Åà„Éú„Çø„É≥ -->
  <button id="toggle-button" style="
    position: fixed;
    right: 20px;
    z-index: 999;
    border-radius: 30%;
    padding: 5px 10px;
    cursor: pointer;
  ">
    ‚¨Ü
  </button>

  <!-- üîß JavaScriptÔºà„Çø„Ç§„É†„É©„Ç§„É≥Ë°®Á§∫ÂàáÊõøÔºâ -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const button = document.getElementById('toggle-button');
      const box = document.getElementById('timeline-box');
      let isVisible = false;

      button.addEventListener('click', function () {
        isVisible = !isVisible;
        box.style.display = isVisible ? 'block' : 'none';
        button.textContent = isVisible ? '‚¨á' : '‚¨Ü';  // Ë°®Á§∫„Å´Âøú„Åò„Å¶Áü¢Âç∞Â§âÊõ¥
      });
    });
  </script>

  {% block extra_js %}{% endblock %}
</body>
</html>
