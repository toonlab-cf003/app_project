{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}ãƒ‡ãƒ¼ã‚¿ã®ã‹ã¤ã‚ˆã†{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'css/timeline.css' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
  {% if user.is_authenticated %}
    <p class="login_message">ã‚ˆã†ã“ãã€{{ user.nickname }}{{ user.suffix }} ï¼</p>
  <form method="POST" action="{% url 'logout' %}" style="display:inline; float: right;">
      {% csrf_token %}
      <button type="submit" style="background:none; border:none; color:blue; cursor:pointer; text-decoration:underline;">
        ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
      </button>
    </form>
  {% else %}
    <p><a href="{% url 'login' %}">ãƒ­ã‚°ã‚¤ãƒ³</a> / <a href="{% url 'register' %}">æ–°è¦ç™»éŒ²</a></p>
  {% endif %}

  <div class="main-content">
    {% block content %}
        {% if messages %}
          <ul class="message-list">
            {% for message in messages %}
              <li class="message {{ message.tags }}">{{ message }}</li>
            {% endfor %}
          </ul>
        {% endif %}
    {% endblock %}
  </div>

  <!-- ğŸ”½ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼ˆæœ€åˆã¯éè¡¨ç¤ºï¼‰ -->
  <div id="timeline-box" style="display: none;">
    {% include 'main/timeline_embed.html' %}
  </div>

  <!-- â¬† ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ -->
  <button id="toggle-button" style="
    position: fixed;
    right: 20px;
    z-index: 999;
    border-radius: 30%;
    padding: 5px 10px;
    cursor: pointer;
  ">
    â¬†
  </button>

  <!-- ğŸ”§ JavaScriptï¼ˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤ºåˆ‡æ›¿ï¼‰ -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const button = document.getElementById('toggle-button');
      const box = document.getElementById('timeline-box');
      let isVisible = false;

      button.addEventListener('click', function () {
        isVisible = !isVisible;
        box.style.display = isVisible ? 'block' : 'none';
        button.textContent = isVisible ? 'â¬‡' : 'â¬†';  // è¡¨ç¤ºã«å¿œã˜ã¦çŸ¢å°å¤‰æ›´
      });
    });
  </script>

  {% block extra_js %}{% endblock %}
</body>
</html>
